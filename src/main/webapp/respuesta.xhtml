<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <link rel="stylesheet" type="text/css" href="css/respuesta.css"/>
    <title>Respuesta</title>
</h:head>
<h:body>
    <script>
        function exportChartInPDF() {
           var docDefinition = {
              content: [
            'Category chart',
            {
               image: $(PF('categoryChart').exportAsImage()).attr('src'),
               width: 520
            }		
          ]
           }
           pdfMake.createPdf(docDefinition).open();
           pdfMake.createPdf(docDefinition).download('barChart.pdf');
        }
     </script>
    <div class="container">
        <div class="item1">
           <div class="subit1">
               Respuesta
           </div>
           <p:commandButton class="logout" value="Cerrar sesiÃ³n" styleClass="ui-button-success" actionListener="#{LoginBean.logout}"></p:commandButton>
        </div>
        <div class="item2">
            <h:form id="tabla">
                <p:dataTable id="dtRespuesta" var="respuesta" value="#{respuestaBean.respuestas}" paginator="true" paginatorPosition="bottom" rows="4" paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                currentPageReportTemplate="{startRecord}-{endRecord} de {totalRecords} registros"
                rowsPerPageTemplate="4,10,{ShowAll|'All'}">
                        <p:column headerText="ID" sortBy="#{respuesta.id}">
                            <p:outputLabel value="#{respuesta.id}" />
                        </p:column>
                        <p:column headerText="Nombre">
                            <p:outputLabel value="#{respuesta.name}" />
                        </p:column>
                        <p:column headerText="Comentarios">
                            <p:outputLabel value="#{respuesta.comments}" />
                        </p:column>
                        <p:column headerText="Fecha de creacion">
                            <p:outputLabel value="#{respuesta.creationDate}" />
                        </p:column>
                        <p:column headerText="Oferta">
                            <p:outputLabel value="#{respuesta.offer.id}" />
                        </p:column>
                        <p:column headerText="Necesidad">
                            <p:outputLabel value="#{respuesta.need.id}" />
                        </p:column>
                </p:dataTable>
                <br></br>
                <br></br>
                <p:commandButton value="PDF" ajax="false">
                            <p:dataExporter type="pdf" target="dtRespuesta" fileName="Respuestas" widgetVar="respuestaChart"/>
                </p:commandButton>
                <br></br>
                <br></br>
                <p:commandButton value="Excel" ajax="false">
                    <p:dataExporter type="xls" target="dtRespuesta" fileName="Ofertas" widgetVar="respuestaChart"/>
                </p:commandButton>
            </h:form>
        </div>
    </div>
</h:body>
</html>