<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="edu.eci.cvds.dao.mybatis.mappers.RespuestaMapper">

    <insert parameterType="map" id="InsertResponseOffer">
      INSERT INTO responses (name, comments, creationdate, offer)
      VALUES(
        #{ans.name},
        #{ans.comments},
        #{ans.creationDate},
        #{ans.offer.id}
      );
    </insert>

    <insert parameterType="map" id="InsertResponseNeed">
      INSERT INTO responses (name, comments, creationdate, need)
      VALUES(
        #{ans.name},
        #{ans.comments},
        #{ans.creationDate},
        #{ans.need.id}
      );
    </insert>

    <resultMap type='Respuesta' id='RespuestaResult'>
        <id property='id' column='r_id'/>
        <result property='name' column='r_name'/>
        <result property='comments' column='r_comments'/>
        <result property='creationDate' column='r_creationdate'/>
        <association property='offer' javaType = 'Offer'></association>
        <association property='need' javaType = 'Need'></association>
    </resultMap>
</mapper>